(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-login"],{3564:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".wx-box[data-v-45c3878d]{position:relative}.wx-login-btn[data-v-45c3878d]{position:relative}.wx-login-btn-icon[data-v-45c3878d]{color:#fff;font-size:%?52?%;position:absolute;left:31%;top:%?20?%;z-index:9;line-height:%?50?%}.jx-info[data-v-45c3878d]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?540?%;height:%?84?%;line-height:%?84?%;font-size:%?30?%;letter-spacing:1px;padding-left:%?80?%\n\t/* opacity: 0; */}.login-root[data-v-45c3878d]{min-height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}uni-page-body[data-v-45c3878d]{background:#fff!important}.avatar[data-v-45c3878d]{text-align:center;padding:%?100?% 0 %?20?%}.avatar-img[data-v-45c3878d]{width:%?200?%;height:%?200?%;border-radius:50%}.login-content[data-v-45c3878d]{padding:0 %?30?%;box-sizing:border-box}.fixed[data-v-45c3878d]{position:fixed;min-width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.fixed .iconfont[data-v-45c3878d]{color:#2ba246;font-size:24pt;line-height:100%}.common[data-v-45c3878d]{height:%?90?%;border:%?2?% solid #f3f3f3;border-radius:%?45?%;padding:%?0?% %?42?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?50?%}.iconCss[data-v-45c3878d]{font-size:16pt;color:#797979;margin-right:%?18?%}.com-inp[data-v-45c3878d]{font-size:10pt;letter-spacing:%?2?%;width:90%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.get-code[data-v-45c3878d]{background:#f5f5f5;font-size:%?26?%;letter-spacing:1px;color:#fff;padding:%?4?% %?20?%;border-radius:%?30?%}.get-code2[data-v-45c3878d]{background:transparent;padding:0}.login-btn[data-v-45c3878d]{background:#bc0100;border:0;color:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:10pt;letter-spacing:%?4?%;margin-bottom:%?28?%}.otherSelect[data-v-45c3878d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:9pt;color:#8a8a8a;padding:0 %?30?%;box-sizing:border-box}\n\n/* 微信公众号授权登录 */.center[data-v-45c3878d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:#f7f7f7;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1}.center .desc[data-v-45c3878d]{color:#7f7f7f;font-size:13pt;font-weight:500}.load .loader[data-v-45c3878d]{margin:4em auto;font-size:20px;width:1em;height:1em;border-radius:50%;position:relative;text-indent:-9999em;-webkit-animation:load-data-v-45c3878d 1.1s infinite ease;animation:load-data-v-45c3878d 1.1s infinite ease}@-webkit-keyframes load-data-v-45c3878d{0%,\n\t100%{box-shadow:0 -2.6em 0 0 #f04a4a,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f7b6b6}12.5%{box-shadow:0 -2.6em 0 0 #f7b6b6,1.8em -1.8em 0 0 #f04a4a,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}25%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f7b6b6,2.5em 0 0 0 #f04a4a,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}37.5%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f7b6b6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}50%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f7b6b6,0 2.5em 0 0 #f04a4a,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}62.5%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f7b6b6,-1.8em 1.8em 0 0 #f04a4a,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}75%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f7b6b6,-2.6em 0 0 0 #f04a4a,-1.8em -1.8em 0 0 #f4d8d6}87.5%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f7b6b6,-1.8em -1.8em 0 0 #f04a4a}}@keyframes load-data-v-45c3878d{0%,\n\t100%{box-shadow:0 -2.6em 0 0 #f04a4a,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f7b6b6}12.5%{box-shadow:0 -2.6em 0 0 #f7b6b6,1.8em -1.8em 0 0 #f04a4a,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}25%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f7b6b6,2.5em 0 0 0 #f04a4a,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}37.5%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f7b6b6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}50%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f7b6b6,0 2.5em 0 0 #f04a4a,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}62.5%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f7b6b6,-1.8em 1.8em 0 0 #f04a4a,-2.6em 0 0 0 #f4d8d6,-1.8em -1.8em 0 0 #f4d8d6}75%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f7b6b6,-2.6em 0 0 0 #f04a4a,-1.8em -1.8em 0 0 #f4d8d6}87.5%{box-shadow:0 -2.6em 0 0 #f4d8d6,1.8em -1.8em 0 0 #f4d8d6,2.5em 0 0 0 #f4d8d6,1.75em 1.75em 0 0 #f4d8d6,0 2.5em 0 0 #f4d8d6,-1.8em 1.8em 0 0 #f4d8d6,-2.6em 0 0 0 #f7b6b6,-1.8em -1.8em 0 0 #f04a4a}}.shop-name[data-v-45c3878d]{text-align:center;font-size:%?36?%;color:#000;letter-spacing:1px}.line[data-v-45c3878d]{background:#dcdcdc;height:1px;width:%?620?%;margin:%?30?% auto %?40?%}.login-tips[data-v-45c3878d]{width:%?620?%;margin:auto;padding:0 %?30?%;color:#000;box-sizing:border-box}.login-tips2[data-v-45c3878d]{padding-left:%?20?%;color:#a0a0a0;font-size:%?28?%;margin:%?20?% 0 %?50?%}body.?%PAGE?%[data-v-45c3878d]{background:#fff!important}",""]),e.exports=t},"4f50":function(e,t,i){"use strict";var a=i("dd21"),d=i.n(a);d.a},"605a":function(e,t,i){"use strict";i.r(t);var a=i("93ea"),d=i("ff00");for(var o in d)"default"!==o&&function(e){i.d(t,e,(function(){return d[e]}))}(o);i("4f50");var n,s=i("f0c5"),c=Object(s["a"])(d["default"],a["b"],a["c"],!1,null,"45c3878d",null,!1,a["a"],n);t["default"]=c.exports},"93ea":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"login-root"},[e.is_weixn?i("v-uni-view",{staticClass:"center"},[i("v-uni-view",{staticClass:"load-container load"},[i("div",{staticClass:"loader"},[e._v("登录中~~~")])]),i("v-uni-view",{staticClass:"desc"},[e._v("正在登录中，请稍等~")])],1):i("v-uni-view",[e.mall_logo?e._e():i("v-uni-view",{staticClass:"avatar"},[e.logo_img?i("v-uni-image",{staticClass:"avatar-img",attrs:{src:e.logo_img,mode:""}}):i("v-uni-image",{staticClass:"avatar-img",attrs:{src:e.img_url+"images/login/user.png",mode:""}})],1),e.mall_logo?i("v-uni-view",{staticClass:"avatar"},[i("v-uni-image",{staticClass:"avatar-img",attrs:{src:e.mall_pic,mode:""}})],1):e._e(),i("v-uni-view",{staticClass:"login-content"},[i("v-uni-view",{staticClass:"common"},[i("v-uni-view",{staticClass:"iconCss iconfont icon-shouji"}),i("v-uni-input",{staticClass:"com-inp",attrs:{type:"number",placeholder:"请输入您的手机号"},model:{value:e.dataForm.username,callback:function(t){e.$set(e.dataForm,"username",t)},expression:"dataForm.username"}})],1),i("v-uni-view",{staticClass:"common"},[i("v-uni-view",{staticClass:"iconCss iconfont icon-mima"}),i("v-uni-input",{staticClass:"com-inp",attrs:{placeholder:"请输入您的密码"},model:{value:e.dataForm.captcha,callback:function(t){e.$set(e.dataForm,"captcha",t)},expression:"dataForm.captcha"}}),e.is_show_code?i("v-uni-view",{staticClass:"get-code",style:{color:"#FF7104"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v("获取验证码")]):i("v-uni-view",{staticClass:"get-code get-code2",style:{color:"#FF7104"}},[e._v("重新发送("+e._s(e.countdown)+")")])],1),i("v-uni-view",{staticClass:"common login-btn",style:{background:"#FF7104"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pwdLogin.apply(void 0,arguments)}}},[e._v("登录")]),i("v-uni-view",{staticClass:"otherSelect"},[i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goRes.apply(void 0,arguments)}}},[e._v("用户注册")])],1)],1)],1)],1)},o=[]},ab54:function(e,t,i){"use strict";(function(e){var a=i("4ea4");i("99af"),i("ac1f"),i("466d"),i("5319"),i("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=a(i("6fc5")),o=i("2222"),n={data:function(){return{img_url:this.$api.img_url,dataForm:{username:"",captcha:""},is_weixn:!1,textColor:"",is_show_code:!0,countdown:60,logo_img:"",user_id:"",mall_logo:!1,mall_pic:""}},onLoad:function(e){if(uni.getStorageSync("mall_config")&&(this.textColor=this.globalSet("textCol"),this.logo_img=JSON.parse(uni.getStorageSync("mall_config")).mall_setting.setting.logo),null!=JSON.parse(uni.getStorageSync("mall_config")).mall_log&&(this.mall_logo=!0,this.mall_pic=JSON.parse(uni.getStorageSync("mall_config")).mall_log),this.user_id=void 0!==this.$route.query.user_id?this.$route.query.user_id:0,void 0!==this.$route.query.user_id&&uni.setStorageSync("user_id",this.user_id),this.$http.isLogin()&&(this.$http.toast("您已登录，请勿重新登录"),setTimeout((function(){window.history.go(1)}),1e3)),(0,o.isWeChat)()){this.is_weixn=!0;var t=this.$http.getUrlParam("code");if(t){var i=document.URL.match(/\?.*#/)[0];if(i.match(/=.*&/)){var a=i.match(/=.*&/)[0];a=a.substr(1,a.length),a=a.substr(0,a.length-1),window.history.replaceState({},0,document.URL.replace(i.substr(0,i.length-1),"")),this.wxLogin(t)}}else{var n=window.location.href;n=encodeURIComponent(n);var s="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(d.default.publicAppId,"&redirect_uri=").concat(n,"&response_type=code&scope=snsapi_userinfo#wechat_redirect");window.location.replace(s)}}},methods:{goRes:function(){uni.navigateTo({url:"/pages/public/registered"})},getCode:function(){var e=this;this.is_show_code=!1;var t=setInterval((function(){e.countdown--,e.countdown<=0&&(e.countdown=60,e.is_show_code=!0,clearInterval(t))}),1e3);this.$http.request({url:this.$api.default.phoneCode,method:"post",data:{mobile:this.dataForm.username,is_register:0}}).then((function(t){0!=t.code&&e.$http.toast(t.msg)}))},wxLogin:function(e){var t=this;this.$http.request({url:this.$api.default.wxLogin,data:{code:e,mall_id:uni.getStorageSync("mall_id"),stands_mall_id:uni.getStorageSync("stands_mall_id")?uni.getStorageSync("stands_mall_id"):5}}).then((function(e){if(0===e.code){var i=e.data,a=i.access_token,d=i.config,o=i.key;if(a=a.trim(),!a.length&&1==d.all_network_enable)return void uni.redirectTo({url:"/pages/public/bind?key=".concat(o,"&user_id=")+t.user_id});t.$http.setToken(a);var n=uni.getStorageSync("_login_pre_url")?uni.getStorageSync("_login_pre_url"):"/pages/user/index";t.$http.setUserInfo(),uni.redirectTo({url:n,success:function(e){uni.removeStorageSync("_login_pre_url")}})}}))},forget:function(){uni.navigateTo({url:"/pages/public/forget"})},login:function(e){uni.getProvider({service:"oauth",success:function(e){e.provider[0]}})},pwdLogin:function(){var t=this;(0,o.isNullOrEmpty)(this.dataForm.username)&&(0,o.isMobile)(this.dataForm.username)?(0,o.isNullOrEmpty)(this.dataForm.captcha)?this.$http.request({url:this.$api.default.login,data:this.dataForm,method:"POST",showLoading:!0}).then((function(i){if(t.$http.toast(i.msg),0==i.code){t.$http.setToken(i.data.access_token),e("log",i.data.access_token," at pages/public/login.vue:290"),t.$http.setUserInfo();var a=uni.getStorageSync("_login_pre_url")?uni.getStorageSync("_login_pre_url"):"/pages/user/index";uni.removeStorageSync("_login_pre_url"),setTimeout((function(){uni.redirectTo({url:a})}),1e3)}})):this.$http.toast("密码不能为空"):this.$http.toast("请输入正确的手机号")}}};t.default=n}).call(this,i("0de9")["log"])},dd21:function(e,t,i){var a=i("3564");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var d=i("4f06").default;d("413046a5",a,!0,{sourceMap:!1,shadowMode:!1})},ff00:function(e,t,i){"use strict";i.r(t);var a=i("ab54"),d=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=d.a}}]);