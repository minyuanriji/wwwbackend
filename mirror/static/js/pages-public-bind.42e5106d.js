(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-bind"],{"10c6":function(t,e,a){"use strict";a.r(e);var i=a("4f8c"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"4f8c":function(t,e,a){"use strict";(function(t){a("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2222"),n={data:function(){return{img_url:this.$api.img_url,parentInfo:{},dataForm:{recommend_id:0,mobile:"",captcha:""},countDown:"",key:"",textColor:"",user_id:""}},onLoad:function(t){uni.getStorageSync("user_id")?this.user_id=uni.getStorageSync("user_id"):this.user_id=uni.getStorageSync("pid")?uni.getStorageSync("pid"):0,t.key&&(this.key=t.key),uni.getStorageSync("pid")&&(this.dataForm.recommend_id=uni.getStorageSync("pid")),uni.getStorageSync("mall_config")&&(this.textColor=this.globalSet("textCol"))},mounted:function(){var t=document.getElementsByClassName("uni-page-head-hd")[0];t.style.display="none"},methods:{submit:function(){var t=this,e=this.key.trim(),a=t.dataForm,n=a.recommend_id,o=a.mobile,s=a.captcha;(0,i.isNullOrEmpty)(o)&&(0,i.isMobile)(o)?(0,i.isNullOrEmpty)(s)?t.$http.request({url:e.length?this.$api.default.bind:this.$api.default.bindPhone,data:{key:e,recommend_id:n,mobile:o,captcha:s,user_id:this.user_id,stands_mall_id:uni.getStorageSync("stands_mall_id")?uni.getStorageSync("stands_mall_id"):5}}).then((function(a){if(t.showMsg(a.msg),0==a.code){if(!e)return void uni.navigateBack();t.$http.setToken(a.data.access_token);var i=uni.getStorageSync("_login_pre_url")?uni.getStorageSync("_login_pre_url"):"/pages/user/index";uni.removeStorageSync("pid"),uni.removeStorageSync("user_id"),uni.removeStorageSync("_login_pre_url"),setTimeout((function(){uni.redirectTo({url:i})}),1e3)}})):t.$http.toast("请输入验证码"):t.$http.toast("请输入正确的手机号")},getCode:function(){var e=this;if((0,i.isMobile)(this.dataForm.mobile)){var a=this;a.countDown=60;var n=setInterval((function(){a.countDown--,a.countDown<=0&&clearInterval(n)}),1e3);a.$http.request({url:a.$api.default.phoneCode,data:{mobile:a.dataForm.mobile},method:"POST"}).then((function(t){e.$http.toast(t.msg)})).catch((function(e){t("log",e," at pages/public/bind.vue:147")}))}else this.showMsg("请输入手机号后在获取验证码")},goAgreement:function(){this.$http.toast("跳转用户协议")},showMsg:function(t){uni.showToast({icon:"none",title:t})}}};e.default=n}).call(this,a("0de9")["log"])},"5a6a":function(t,e,a){"use strict";a.r(e);var i=a("f483"),n=a("10c6");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("dc86");var s,c=a("f0c5"),r=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"75a209a0",null,!1,i["a"],s);e["default"]=r.exports},"91fb":function(t,e,a){var i=a("e607");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("1dc400d4",i,!0,{sourceMap:!1,shadowMode:!1})},dc86:function(t,e,a){"use strict";var i=a("91fb"),n=a.n(i);n.a},e607:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-75a209a0]{background:#fff!important}.avatar[data-v-75a209a0]{text-align:center;padding:%?100?% 0 %?57?%}.avatar-img[data-v-75a209a0]{width:%?168?%;height:%?168?%}.login-content[data-v-75a209a0]{padding:0 %?30?%;box-sizing:border-box}.common[data-v-75a209a0]{height:%?90?%;border:%?2?% solid #f3f3f3;border-radius:%?45?%;padding:%?0?% %?42?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?50?%}.iconCss[data-v-75a209a0]{font-size:16pt;color:#797979;margin-right:%?18?%}.com-inp[data-v-75a209a0]{font-size:10pt;letter-spacing:%?2?%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.login-btn[data-v-75a209a0]{background:#bc0100;border:0;color:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:10pt;letter-spacing:%?4?%;margin-bottom:%?28?%}.otherSelect[data-v-75a209a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:9pt;color:#8a8a8a;padding:0 %?30?%;box-sizing:border-box}.agreement[data-v-75a209a0]{color:#bc0100}.code[data-v-75a209a0]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.code-left[data-v-75a209a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.code-right[data-v-75a209a0]{font-size:10pt;color:#8a8a8a;letter-spacing:%?2?%}.agreement-box[data-v-75a209a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.agreement-btn[data-v-75a209a0]{border:%?2?% solid #f3f3f3;width:%?26?%;height:%?26?%;border-radius:50%;margin-right:%?16?%;position:relative}.agreement-icon[data-v-75a209a0]{position:absolute;top:%?14?%;left:%?-2?%;line-height:0;color:#bc0100}.show[data-v-75a209a0]{display:block}.hide[data-v-75a209a0]{display:none}body.?%PAGE?%[data-v-75a209a0]{background:#fff!important}",""]),t.exports=e},f483:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"login-root"},[a("v-uni-view",[a("v-uni-view",{staticClass:"avatar"},[a("v-uni-image",{staticClass:"avatar-img",attrs:{src:t.img_url+"images/login/user.png",mode:""}})],1),a("v-uni-view",{staticClass:"login-content"},[a("v-uni-view",{staticClass:"common"},[a("v-uni-view",{staticClass:"iconCss iconfont icon-shouji"}),a("v-uni-input",{staticClass:"com-inp",attrs:{type:"number",placeholder:"请输入您的手机号"},model:{value:t.dataForm.mobile,callback:function(e){t.$set(t.dataForm,"mobile",e)},expression:"dataForm.mobile"}})],1),a("v-uni-view",{staticClass:"common code"},[a("v-uni-view",{staticClass:"code-left"},[a("v-uni-view",{staticClass:"iconCss iconfont icon-yanzhengma"}),a("v-uni-input",{staticClass:"com-inp",attrs:{type:"number",placeholder:"验证码"},model:{value:t.dataForm.captcha,callback:function(e){t.$set(t.dataForm,"captcha",e)},expression:"dataForm.captcha"}})],1),t.countDown?a("v-uni-view",{staticClass:"code-right"},[t._v(t._s(t.countDown))]):a("v-uni-view",{staticClass:"code-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v("获取验证码")])],1),a("v-uni-view",{staticClass:"common login-btn",style:{background:t.textColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("绑定手机")])],1)],1)],1)},o=[]}}]);