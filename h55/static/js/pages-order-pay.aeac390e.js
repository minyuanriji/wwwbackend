(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-pay"],{"2aca":function(t,i,a){"use strict";a.d(i,"b",(function(){return o})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){return e}));var e={comNavBar:a("deaf").default},o=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"cart-root"},[a("com-nav-bar",{attrs:{"left-icon":"back",title:"提交订单","status-bar":!0,"background-color":t.navBg,border:!1,color:t.navCol},on:{clickLeft:function(i){arguments[0]=i=t.$handleEvent(i),t.back.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"cart-bg",style:{background:"url("+t.bg_url+")"}}),a("v-uni-view",{staticClass:"mainContent"},[a("v-uni-view",{staticClass:"up"},[a("v-uni-view",{staticClass:"balance"},[a("v-uni-text",[t._v("账户余额:")]),a("v-uni-view",[a("v-uni-text",{staticClass:"price"},[t._v(t._s(t.payData.balance))]),t._v("元")],1)],1),a("v-uni-view",{staticClass:"pay-content"},[a("v-uni-view",{staticClass:"pay-title"},[t._v("支付金额")]),t.payData?a("v-uni-view",{staticClass:"pay-price",style:{color:t.textColor}},[a("v-uni-text",{staticClass:"pay-icon"},[t._v("¥")]),t._v(t._s(t.payData.amount.toFixed(2)))],1):t._e(),a("v-uni-view",{staticClass:"numbering"},[t._v("订单编号："+t._s(t.payData.orderNo))])],1)],1),t.payData.amount?a("v-uni-view",{staticClass:"down"},t._l(t.payData.supportPayTypes,(function(i,e){return a("v-uni-view",{key:e,staticClass:"down-item"},[a("v-uni-view",{staticClass:"item-left"},[a("v-uni-image",{staticClass:"item-img",attrs:{src:t.img_url+"images/pay/"+i+".png",mode:""}}),"wechat"==i?a("v-uni-text",[t._v("微信支付")]):t._e(),"alipay"==i?a("v-uni-text",[t._v("支付宝支付")]):t._e(),"balance"==i?a("v-uni-text",[t._v("余额支付")]):t._e()],1),a("v-uni-view",{staticClass:"item-right-box",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchIcon(e)}}},[e==t.switchIndex?a("v-uni-view",{staticClass:"item-icon iconfont icon-dagou1",style:{color:t.textColor}}):a("v-uni-view",{staticClass:"item-right"})],1)],1)})),1):a("v-uni-view",{staticClass:"down"},[a("v-uni-view",{staticClass:"down-item"},[a("v-uni-view",{staticClass:"item-left"},[a("v-uni-image",{staticClass:"item-img",attrs:{src:t.img_url+"images/pay/balance.png",mode:""}}),a("v-uni-text",[t._v("余额支付")])],1),a("v-uni-view",{staticClass:"item-right-box"},[a("v-uni-view",{staticClass:"item-icon iconfont icon-dagou1",style:{color:t.textColor}})],1)],1)],1),a("v-uni-view",{staticClass:"confirmPay",style:{background:t.textColor},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toConfirmPay.apply(void 0,arguments)}}},[t._v("确认支付")])],1)],1)},n=[]},3114:function(t,i,a){var e=a("7098");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=a("4f06").default;o("5209ce74",e,!0,{sourceMap:!1,shadowMode:!1})},"62d7":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;a("c6e9");var e={data:function(){return{img_url:this.$api.img_url,showBool:!1,is_index:"",active_id:"",opacity:0,token:"",queue_id:"",payData:"",switchIndex:0,textColor:"#BC0100",bg_url:"",navBg:"",navCol:"",goods_id:""}},onLoad:function(t){t.goods_id&&(this.goods_id=t.goods_id),this.textColor=this.globalSet("textCol"),this.bg_url=this.globalSet("imgUrl"),this.navBg=this.globalSet("navBg"),this.navCol=this.globalSet("navCol"),this.token=t.token,this.queue_id=t.queue_id;var i=t.orderId?t.orderId:"";this.getPayData(i),t.is_index&&(this.is_index=1,this.active_id=t.active_id)},methods:{back:function(){this.navBack()},getPayData:function(t){var i=this;this.$http.request({url:this.$api.order.toPay,showLoading:!0,data:{token:this.token||"",queue_id:this.queue_id||"",id:t}}).then((function(t){0==t.code&&(i.payData=t.data)}))},toConfirmPay:function(){1==this.is_index?this.detailByOrder(this.payData.orderNo):this.confirmPay()},detailByOrder:function(t){var i=this;this.$http.request({url:this.$api.plugin.group.detail_by_order,method:"post",data:{order_no:t}}).then((function(t){0==t.code&&(t.data&&t.data.active_id?(i.active_id=t.data.active_id,i.confirmPay(!0)):i.confirmPay(!1))}))},confirmPay:function(t){var i=this,a=t,e="/mch/group-buy/detail?goods_id="+i.goods_id+"&detailId="+i.active_id,o="/mch/group-buy/orderList?goods_id="+i.goods_id;i.$http.request({url:i.$api.payment.doPay,showLoading:!0,method:"post",data:{union_id:i.payData.union_id,pay_type:i.payData.amount>0?i.payData.supportPayTypes[i.switchIndex]:"balance"}}).then((function(t){if(0==t.code){var n=i.payData.amount>0?i.payData.supportPayTypes[i.switchIndex]:"balance";if("balance"==n)return i.$http.toast("支付成功!"),void setTimeout((function(){1==i.is_index?a?uni.redirectTo({url:e}):uni.redirectTo({url:o}):uni.redirectTo({url:"/pages/order/list?status=1"})}),500);1==i.is_index?a?i.$wechatSdk.pay(t.data,e):i.$wechatSdk.pay(t.data,o):i.$wechatSdk.pay(t.data,"/pages/order/list?status=1")}else i.$http.toast(t.msg)}))},switchIcon:function(t){this.switchIndex=t}}};i.default=e},"68fd":function(t,i,a){"use strict";a.r(i);var e=a("62d7"),o=a.n(e);for(var n in e)"default"!==n&&function(t){a.d(i,t,(function(){return e[t]}))}(n);i["default"]=o.a},7098:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".status_bar[data-v-687b5192]{height:0;width:100%}.status_bar2[data-v-687b5192]{height:0;width:100%;position:fixed;top:0;z-index:99}body[data-v-687b5192],\nuni-page-body[data-v-687b5192]{background-color:$uni-bg-color-grey}.cart-root[data-v-687b5192]{position:relative;z-index:1}.cart-bg[data-v-687b5192]{position:absolute;width:100%;background-size:cover;height:%?320?%}.cart-bg-img[data-v-687b5192]{width:100%}.cart-title[data-v-687b5192]{padding:%?40?% 0 %?0?%;color:#fff;font-size:14pt;letter-spacing:%?4?%;text-align:center;position:relative;margin-bottom:%?40?%}.back[data-v-687b5192]{position:absolute;top:%?40?%;left:%?30?%;font-size:%?40?%}.mainContent[data-v-687b5192]{z-index:999;position:relative;width:%?690?%;margin:%?118?% auto 0}.up[data-v-687b5192]{background:#fff;border-radius:%?15?%;margin-bottom:%?30?%}.balance[data-v-687b5192]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?30?% %?23?%;font-size:10pt;color:#000;border-bottom:%?2?% solid #f2f2f2}.price[data-v-687b5192]{font-size:13pt;margin-right:%?10?%}.pay-content[data-v-687b5192]{padding:%?43?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.pay-title[data-v-687b5192]{font-size:9pt;font-weight:600;margin-bottom:%?20?%;color:#000}.pay-icon[data-v-687b5192]{font-size:12pt;margin-right:%?20?%;font-weight:500}.pay-price[data-v-687b5192]{color:#bc0100;font-size:16pt;font-weight:600;margin-bottom:%?20?%}.numbering[data-v-687b5192]{font-size:10pt;color:#000}.down[data-v-687b5192]{background:#fff;border-radius:%?15?%;padding:%?40?% %?20?%}.down-item[data-v-687b5192]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?40?%}.down .down-item[data-v-687b5192]:last-child{margin-bottom:%?0?%}.item-left[data-v-687b5192]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#000;font-size:10pt}.item-img[data-v-687b5192]{width:%?40?%;height:%?40?%;margin-right:%?30?%}.item-right-box[data-v-687b5192]{width:%?38?%;height:%?38?%;position:relative}.item-right[data-v-687b5192]{width:%?38?%;height:%?38?%;border-radius:50%;border:%?2?% solid #8b8b8b;position:absolute}.item-icon[data-v-687b5192]{font-size:%?38?%;position:absolute;top:%?0?%;left:%?0?%;line-height:%?40?%;color:#bc0100}.confirmPay[data-v-687b5192]{color:#fff;background:#bc0100;padding:%?26?% 0;text-align:center;border-radius:%?80?%;font-size:10pt;letter-spacing:%?4?%;margin-top:%?80?%}body.?%PAGE?%[data-v-687b5192]{background-color:$uni-bg-color-grey}",""]),t.exports=i},da43:function(t,i,a){"use strict";a.r(i);var e=a("2aca"),o=a("68fd");for(var n in o)"default"!==n&&function(t){a.d(i,t,(function(){return o[t]}))}(n);a("f47c");var s,r=a("f0c5"),d=Object(r["a"])(o["default"],e["b"],e["c"],!1,null,"687b5192",null,!1,e["a"],s);i["default"]=d.exports},f47c:function(t,i,a){"use strict";var e=a("3114"),o=a.n(e);o.a}}]);