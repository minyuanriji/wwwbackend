(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personalCentre-shopSetting-shopSetting"],{"0ca6":function(t,i,e){var n=e("b5c6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("2a99a3ed",n,!0,{sourceMap:!1,shadowMode:!1})},"239e":function(t,i,e){"use strict";(function(t){e("4160"),e("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e("7b0a"),o={data:function(){return{img_url:this.$api.img_url,params:{shop_logo:this.$api.test_url+"/images/shop/shop_logo.png"},num:0,value:[0,0,0],multiArray:[],selectList:[],provice:"",city:"",district:"",proviceId:"",cityId:"",districtId:"",form:{name:"",cover_url:"",province_id:"",city_id:"",district_id:"",longitude:"",latitude:"",address:""},text:"",userMessage:""}},onLoad:function(){this.getCity(),this.getUser()},methods:{toArr:function(t){var i=[];for(var e in t)i.push(t[e].name);return i},uploadImg:function(){var t=this,i=this.params;uni.chooseImage({count:1,success:function(e){var n=e.tempFiles[0].path,o={serverUrl:t.$api.default.upload+"&width=3000&height=3000&type=1",fileKeyName:"file",file:n};uni.showLoading({title:"正在上传"}),t.$http.uploadFile(o).then((function(e){if(uni.hideLoading(),0==e.code){var n=e.data.url;i.shop_logo=n,t.params=i,t.form.cover_url=t.params.shop_logo,t.$forceUpdate()}else uni.showToast({title:"图片太大，请重新上传",icon:"none"}),setTimeout((function(){uni.hideToast()}),2e3)}))}})},picker:function(i){var e=i.detail.value;this.selectList.length>0&&(this.provice=this.selectList[e[0]].name,this.city=this.selectList[e[0]].children[e[1]].name,this.proviceId=this.selectList[e[0]].id,this.cityId=this.selectList[e[0]].children[e[1]].id,this.text=this.provice+" "+this.city,this.form.province_id=this.proviceId,this.form.city_id=this.cityId),t("log",this.text," at pages/personalCentre/shopSetting/shopSetting.vue:165"),t("log",this.proviceId,this.cityId," at pages/personalCentre/shopSetting/shopSetting.vue:166")},columnPicker:function(t){var i=t.detail.column,e=t.detail.value;0===i?(this.multiArray=[this.multiArray[0],this.toArr(this.selectList[e].children)],this.value=[e,0,0]):1===i&&(this.multiArray=[this.multiArray[0],this.multiArray[1]],this.value=[this.value[0],e,0])},getCity:function(){var t=this;this.$http.request({url:this.$api.moreShop.getCity,method:"post",showLoading:!0}).then((function(i){var e=[],n=[],o=[];for(var s in i.data)"province"!=i.data[s].level&&"city"!=i.data[s].level||t.$set(i.data[s],"children",[]),"province"==i.data[s].level&&e.push(i.data[s]),"city"==i.data[s].level&&n.push(i.data[s]),"district"==i.data[s].level&&o.push(i.data[s]);t.multiArray=[e,n],n.forEach((function(t,i){o.forEach((function(i,e){t.id==i.parent_id&&t.children.push(i)}))})),e.forEach((function(t,i){n.forEach((function(i,e){t.id==i.parent_id&&t.children.push(i)}))})),t.selectList=e,t.multiArray=[t.toArr(t.selectList),t.toArr(t.selectList[0].children)]}))},chooseAddress:function(){var t=this;uni.chooseLocation({success:function(i){t.form.longitude=String(i.longitude),t.form.latitude=String(i.latitude)}})},sureBtn:function(){if((0,n.isEmpty)(this.form.name))return uni.showToast({title:"请填写店铺名称",icon:"none"}),void setTimeout((function(){uni.hideToast()}),2e3);if((0,n.isEmpty)(this.form.cover_url))return uni.showToast({title:"请上传店铺LOGO",icon:"none"}),void setTimeout((function(){uni.hideToast()}),2e3);if((0,n.isEmpty)(this.form.province_id)||(0,n.isEmpty)(this.form.city_id))return uni.showToast({title:"请选择店铺地址",icon:"none"}),void setTimeout((function(){uni.hideToast()}),2e3);if((0,n.isEmpty)(this.form.longitude)||(0,n.isEmpty)(this.form.latitude))return uni.showToast({title:"请定位获取经纬度",icon:"none"}),void setTimeout((function(){uni.hideToast()}),2e3);if((0,n.isEmpty)(this.form.address))return uni.showToast({title:"请填写详细地址",icon:"none"}),void setTimeout((function(){uni.hideToast()}),2e3);var t=this;t.$http.request({url:t.$api.moreShop.setShopmessage,data:t.form,method:"post",showLoading:!0}).then((function(i){if(0==i.code){var e={};e.name=t.form.name,e.cover_url=t.form.cover_url,e.city_id=t.form.city_id,e.province_id=t.form.province_id,e.latitude=t.form.latitude,e.longitude=t.form.longitude,e.address=t.form.address,e.text=t.text,uni.setStorageSync("shop-MESSAGE",e),uni.navigateTo({url:"../personalCentre"})}else uni.showToast({title:i.msg,icon:"none"})}))},goTo:function(){uni.navigateTo({url:"../shopLogoupload/shopLogoupload"})},getUser:function(){var i=this;this.$http.request({url:this.$api.user.userInfo,method:"POST",showLoading:!0}).then((function(e){i.userMessage=e.data.mch_info.store,i.form.name=i.userMessage.name,i.form.cover_url=i.userMessage.cover_url,i.params.shop_logo=i.userMessage.cover_url,i.form.city_id=i.userMessage.city_id,i.form.province_id=i.userMessage.province_id,i.form.latitude=i.userMessage.latitude,i.form.longitude=i.userMessage.longitude,i.form.address=i.userMessage.address;var n=i.selectList,o="",s="";n.forEach((function(t,e){i.userMessage.province_id==t.id&&(o=t.name),t.children.forEach((function(t,e){i.userMessage.city_id==t.id&&(s=t.name)}))})),i.text=o+" "+s,t("log",i.text," at pages/personalCentre/shopSetting/shopSetting.vue:362");var a=JSON.parse(i.userMessage.pic_url),r=[];a.forEach((function(t){"object"!=typeof t&&r.push(t)})),uni.setStorageSync("imglist",r),i.num=r.length}))}}};i.default=o}).call(this,e("0de9")["log"])},5072:function(t,i,e){"use strict";e.r(i);var n=e("239e"),o=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=o.a},7434:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAYAAADnoNlQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3VpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iQUIyMUJEODY2RkZGQ0FCQ0M4NTc3NTg2NTVDNjlDMzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUExNzcwNjA5MUVGMTFFQkExMjRFQkQ4RDRBOEYyOUYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUExNzcwNUY5MUVGMTFFQkExMjRFQkQ4RDRBOEYyOUYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Njk1MTk1ZGQtYjhiYi02ZjQyLWJlNGMtODJkMjZmYmFlZTRiIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6N2ZmMDA2ODctNzljYy1iYjQxLWFkNTctNjI4OTk4NmNiMjUyIi8+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"},"7b0a":function(t,i,e){"use strict";function n(t){var i=typeof t;return"undefined"===i||("string"===i&&0===t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length||("string"===i&&("null"===t||null===t)||(!("number"!==i||!isNaN(t))||"object"===i&&(null===t||0===t.length))))}e("ac1f"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.isEmpty=n},b5c6:function(t,i,e){var n=e("24fb"),o=e("1de5"),s=e("7434");i=n(!1);var a=o(s);i.push([t.i,".shopSetting-app[data-v-07abcb72]{width:100%;height:100%;padding-top:%?100?%}.shopSetting-item[data-v-07abcb72]{width:90%;margin:0 auto;border-bottom:%?1?% solid #888;overflow:hidden}.shopSetting-title[data-v-07abcb72]{height:%?100?%;line-height:%?100?%;margin-right:%?20?%;color:#000;float:left}.shopSetting-int[data-v-07abcb72]{height:%?100?%;float:left}.shopSetting-int uni-text[data-v-07abcb72]{display:block;height:%?100?%;float:left;line-height:%?100?%;width:%?225?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.shopSetting-int uni-input[data-v-07abcb72]{height:%?100?%;float:left;width:%?450?%}.logo[data-v-07abcb72]{width:%?130?%;height:%?130?%;float:left;display:block;margin-top:%?10?%}.upload-logo[data-v-07abcb72]{width:%?130?%;height:%?130?%;margin-top:%?10?%;background:url("+a+") no-repeat;background-size:cover ;float:right}.select_logo[data-v-07abcb72]{float:right;width:%?30?%;height:%?25?%;display:block;margin-top:%?40?%}.shopSetting-num[data-v-07abcb72]{float:right;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;line-height:%?100?%}.shopSetting-num uni-image[data-v-07abcb72]{width:%?40?%;height:%?40?%;margin-top:%?30?%}.position_logo[data-v-07abcb72]{display:block;width:%?40?%;height:%?40?%;margin:%?30?% 0 0 %?450?%}.sure_btn[data-v-07abcb72]{width:85%;height:%?80?%;margin:%?90?% auto 0;background:#ff7104;border-radius:%?20?%;text-align:center;line-height:%?80?%;color:#fff}",""]),t.exports=i},e940:function(t,i,e){"use strict";var n=e("0ca6"),o=e.n(n);o.a},f35e:function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"shopSetting-app"},[e("v-uni-view",{staticClass:"shopSetting-item"},[e("v-uni-view",{staticClass:"shopSetting-title"},[t._v("店铺名称：")]),e("v-uni-view",{staticClass:"shopSetting-int"},[e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请填写店铺名称"},model:{value:t.form.name,callback:function(i){t.$set(t.form,"name",i)},expression:"form.name"}})],1)],1),e("v-uni-view",{staticClass:"shopSetting-item"},[e("v-uni-view",{staticClass:"shopSetting-title",staticStyle:{height:"150rpx","line-height":"150rpx"}},[t._v("店铺LOGO：")]),e("v-uni-image",{staticClass:"logo",attrs:{src:t.params.shop_logo,mode:""}}),e("v-uni-view",{staticClass:"upload-logo",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.uploadImg.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"shopSetting-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goTo.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"shopSetting-title"},[t._v("店铺图片：")]),e("v-uni-view",{staticClass:"shopSetting-num"},[e("v-uni-text",[t._v(t._s(t.num)+"张")]),e("v-uni-image",{attrs:{src:t.img_url+"/arrow-right.png",mode:""}})],1)],1),e("v-uni-view",{staticClass:"shopSetting-item"},[e("v-uni-view",{staticClass:"shopSetting-title"},[t._v("店铺地址：")]),e("v-uni-view",{staticClass:"shopSetting-int"},[e("v-uni-picker",{staticStyle:{float:"left"},attrs:{mode:"multiSelector",value:t.value,range:t.multiArray},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.picker.apply(void 0,arguments)},columnchange:function(i){arguments[0]=i=t.$handleEvent(i),t.columnPicker.apply(void 0,arguments)}}},[e("v-uni-view",{staticStyle:{width:"450rpx",height:"100rpx"}},[e("v-uni-view",{staticClass:"index1_content_top_l_name",staticStyle:{height:"100rpx","line-height":"100rpx"}},[t._v(t._s(t.text.length<=0?"请选择":t.text))])],1)],1),e("v-uni-image",{staticClass:"select_logo",attrs:{src:t.img_url+"/sanjia.png",mode:""}})],1)],1),e("v-uni-view",{staticClass:"shopSetting-item"},[e("v-uni-view",{staticClass:"shopSetting-title"},[t._v("店铺位置：")]),e("v-uni-view",{staticClass:"shopSetting-int"},[e("v-uni-text",[t._v("经度:"+t._s(t.form.longitude))]),e("v-uni-text",[t._v("纬度:"+t._s(t.form.latitude))]),e("v-uni-image",{staticClass:"position_logo",attrs:{src:t.img_url+"/position_LOGO.png",mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseAddress.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"shopSetting-item"},[e("v-uni-view",{staticClass:"shopSetting-title"},[t._v("详细地址：")]),e("v-uni-view",{staticClass:"shopSetting-int"},[e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请填写详细地址"},model:{value:t.form.address,callback:function(i){t.$set(t.form,"address",i)},expression:"form.address"}})],1)],1),e("v-uni-view",{staticClass:"sure_btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.sureBtn.apply(void 0,arguments)}}},[t._v("确定")])],1)},s=[]},f4f4:function(t,i,e){"use strict";e.r(i);var n=e("f35e"),o=e("5072");for(var s in o)"default"!==s&&function(t){e.d(i,t,(function(){return o[t]}))}(s);e("e940");var a,r=e("f0c5"),l=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"07abcb72",null,!1,n["a"],a);i["default"]=l.exports}}]);