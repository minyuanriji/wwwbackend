(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-link-index"],{"346f":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"post-app"},[t.hidden?t._e():n("v-uni-view",{staticClass:"goods-qrcode-modal"},[n("v-uni-view",{staticClass:"goods-qrcode-body flex-col"},[n("v-uni-view",{staticClass:"flex-grow-1",staticStyle:{position:"relative"}},[n("v-uni-view",{staticStyle:{width:"100%",height:"100%"}},[n("v-uni-view",{staticClass:"goods-qrcode-box"},[n("v-uni-image",{staticClass:"goods-qrcode",attrs:{src:t.poster_url,mode:"widthFix"}})],1)],1)],1),n("v-uni-view",{staticClass:"flex-grow-0 flex-col flex-y-center",staticStyle:{padding:"30rpx 60rpx"}},[n("v-uni-view",[t._v("长按图片保存至本地")])],1)],1)],1)],1):t._e()},s=[]},"363b":function(t,e,n){"use strict";n.r(e);var o=n("346f"),i=n("afa5");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("f6bc");var a,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"f9bc9c86",null,!1,o["a"],a);e["default"]=u.exports},afa5:function(t,e,n){"use strict";n.r(e);var o=n("e7f6"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},e796:function(t,e,n){var o=n("f8ed");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("1e041e0c",o,!0,{sourceMap:!1,shadowMode:!1})},e7f6:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{loading:!1,poster_url:"",show:!0,hidden:!0}},onLoad:function(){uni.getStorageSync("userInfo")&&0==JSON.parse(uni.getStorageSync("userInfo")).new_user_is_get_score?(this.show=!1,uni.showModal({title:"提示",content:"新人领取红包",showCancel:!1,success:function(e){e.confirm?uni.navigateTo({url:"/pages/link/welfare"}):e.cancel&&t("log","用户点击取消"," at pages/link/index.vue:52")}})):(this.show=!0,this.getData())},methods:{getData:function(){var t=this;this.loading=!0,this.$http.request({url:this.$api.plugin.extensions.LinkPoster,method:"POST"}).then((function(e){1==e.status?(t.hidden=!1,t.poster_url=e.img,uni.showToast({title:e.msg,duration:500,icon:"none"}),setTimeout((function(){t.loading=!1}),1e3)):(t.$http.toast(e.msg),uni.redirectTo())}))},saveImage:function(t){var e=this;uni.authorize({scope:"scope.writePhotosAlbum",success:function(){e.saveImg(t)},complete:function(t){uni.getSetting({success:function(t){t.authSetting["scope.writePhotosAlbum"]||e.opensit()}})}})},opensit:function(){uni.showModal({content:"由于您还没有允许保存图片到您相册里,请点击确定去允许授权",success:function(e){e.confirm?uni.openSetting({success:function(e){t("log",e.authSetting," at pages/link/index.vue:115")}}):e.cancel&&uni.showModal({cancelText:"依然取消",confirmText:"重新授权",content:"很遗憾你点击了取消，请慎重考虑",success:function(e){e.confirm?uni.openSetting({success:function(e){t("log",e.authSetting," at pages/link/index.vue:127")}}):e.cancel&&t("log","用户不授权"," at pages/link/index.vue:131")}})}})},saveImg:function(e){uni.getImageInfo({src:e,success:function(e){uni.saveImageToPhotosAlbum({filePath:e.path,success:function(){t("log","save success"," at pages/link/index.vue:148")},complete:function(e){t("log",e," at pages/link/index.vue:151")}})}})},appSaveImg:function(t){var e=this;uni.saveImageToPhotosAlbum({filePath:t,success:function(){e.$http.toast("保存成功")},fail:function(t){e.$http.toast("保存失败,请稍后重试")}})}}};e.default=n}).call(this,n("0de9")["log"])},f6bc:function(t,e,n){"use strict";var o=n("e796"),i=n.n(o);i.a},f8ed:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".post-app[data-v-f9bc9c86]{width:100%;height:100%;position:relative}.goods-qrcode-modal[data-v-f9bc9c86]{width:100%;height:100%}.goods-qrcode-body[data-v-f9bc9c86]{background:#fff;border-radius:%?10?%;padding:%?40?%}.goods-qrcode-body .goods-qrcode-box[data-v-f9bc9c86]{height:100%;position:relative;box-shadow:0 0 %?15?% rgba(0,0,0,.15);border-radius:16px}.goods-qrcode[data-v-f9bc9c86]{width:100%;height:100%;display:block;background:#fff f}.goods-qrcode-close[data-v-f9bc9c86]{position:absolute;top:%?40?%;right:%?40?%;padding:%?15?%}",""]),t.exports=e}}]);